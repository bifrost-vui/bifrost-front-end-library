{# Demo content #}
{% if accordionItems is not defined %}
    {% set accordionItems = [
        { accordionHeaderText:'This is the question 0', accordionCollapseText: 'This is the answer 0 to the question 0' },
        { accordionHeaderText:'This is the question 1', accordionCollapseText: 'This is the answer 1 to the question 1' },
        { accordionHeaderText:'This is the question 2', accordionCollapseText: 'This is the answer 2 to the question 2' },
        { accordionHeaderText:'This is the question 3', accordionCollapseText: 'This is the answer 3 to the question 3' },
    ] %}
{% endif %}
{% set accordionHeaderText = NULL %}

{# End demo content #}

{# ------------------------------------------------------------------------------------------------------------------ #}

<div class="{{ class|default('') }}" >
    <div class="mb-4" data-animate-row="">
        {% if title is not defined or title is not empty %}
            <h2 class="mb-0" data-animate>{{ title|default('Questions and answers') }}</h2>
        {% endif %}

        {% if intro is defined and intro is not empty %}
            <div class="pt-2" data-animate>
                {% include '@atoms/01-text/01-paragraph.twig' with {
                    text: intro|default('This is the intro.')
                } %}
            </div>
        {% endif %}
    </div>

    <div id="{{ accordionId|default('accordionQA') }}" class="accordion-rounded" data-animate>
        {% for accordionItem in accordionItems %}
            {% if accordionItem.accordionHeaderNB is not empty %}
                {% set accordionHeaderText =  accordionItem.accordionHeaderNB ~ '. ' ~ accordionItem.accordionHeaderText|default("Here is the title") %}
            {% else %}
                {% set accordionHeaderText = accordionItem.accordionHeaderText|default("Here is the title") %}
            {% endif %}

            {% embed '@molecules/06-accordion/accordion-item--arrow-down.twig' with {
                class: (loop.last is same as (false) ? 'border-bottom--0' : ''),
                inlineAnchor: 'question' ~ accordionItem.id|default(loop.index),
                cardHeaderClass:"bg--none",
                cardHeaderPaddingY: ' ',
                extraAttribute: accordionItem.extraAttribute,
                accordionParent: '#' ~ accordionId|default('accordionQA'),
                accordionHeaderText: accordionHeaderText,
                accordionCollapseText: accordionItem.accordionCollapseText
            } %}

              {% block collapse_content %}
                  <div class="card-body pt-0 pb-2">
                      <p>{{ accordionItem.accordionCollapseText|default('')|raw }}</p>
                  </div>
              {% endblock %}

            {% endembed %}
        {% endfor %}
    </div>

    {% if conclusion is defined and conclusion is not empty %}
        <div class="mt-4">
            {% include '@atoms/01-text/01-paragraph.twig' with {
                text: conclusion|default('This is the conclusion.')
            } %}
        </div>
    {% endif %}
</div>
