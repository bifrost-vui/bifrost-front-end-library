import { moduleMetadata } from '@storybook/angular';
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { withDesign } from 'storybook-addon-designs';
import TwigTemplate from './template.drupal.twig';
import { BannerAdvancedComponent } from '../angular/banner-advanced.component';

<Meta
    title='Components/Banner Advanced'
    component={BannerAdvancedComponent}
    decorators={[
        moduleMetadata({ declarations: [BannerAdvancedComponent]}),
        withDesign
    ]}
    parameters={{
        design: {
            type: 'figma',
            url: 'https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS---Components-%26-styles?node-id=21784%3A284582',
            disable: false
        },
    }}
    argTypes={{}}
/>

# Banner Advanced

## Component API

<ArgsTable of={BannerAdvancedComponent} />


## Drupal

export const Drupal = (args) => ({
    template: TwigTemplate(args),
    props: args
});

export const commonProps= {
    title: 'Mobile discount of $10 with an Internet plan',
    description: 'Combine a Mobile plan to an Internet plan and get a $10 monthly discount.',
    icons: [
        {
            name: 'mobility',
            label: 'Mobile plan'
        },
        {
            name: 'bundle-1',
            label: 'Internet plan'
        },
        {
            name: 'helix-tv',
            label: 'Helix TV plan'
        }
    ]
}

### Banner Advanced

<Canvas withSource='none' style={{ height: '450px' }}>
    <Story
        name='Drupal'
        args={{
            ...commonProps
        }}
        >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none' style={{ height: '600px' }}>
    <Story
        name='Drupal - With inputSwitch in footer'
        args={{
            footer: {
                inputSwitch: {
                    id: 'inputId',
                    name: 'inputName',
                    ariaLabel: "I am already an Helix client",
                    class: 'mb-0',
                    label: {
                        text: "I am an Helix client",
                        position: 'right',
                        class: 'text-uppercase font-weight-bold'
                    }
                }
            },
            ...commonProps
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none' style={{ height: '600px' }}>
    <Story
        name='Drupal - with HTMLElement in footer'
        args={{
            footer: "<ul class='py-0 my-0'><li>Lorem Ipsum</li><li>Lorem Ipsum</li><li>Lorem Ipsum</li></ul>",
            ...commonProps
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

## Drupal implementation example

```jsx
{% include '@bf-components/banner-advanced/twig/index.twig' with {
    title: 'Mobile discount of $10 with an Internet plan',
    description: 'Combine a Mobile plan to an Internet plan and get a $10 monthly discount.',
    icons: [
        {
            icon: 'mobility',
            label: 'Mobile plan'
        },
        {
            icon: 'bundle-1',
            label: 'Internet plan'
        }
    ]
} only %}

{% include '@bf-components/banner-advanced/twig/index.twig' with {
    title: 'Mobile discount of $10 with an Internet plan',
    description: 'Combine a Mobile plan to an Internet plan and get a $10 monthly discount.',
    icons: [
        {
            icon: 'mobility',
            label: 'Mobile plan'
        },
        {
            icon: 'bundle-1',
            label: 'Internet plan'
        }
    ],
    footer: {
        inputSwitch: {
            id: 'inputId',
            name: 'inputName',
            ariaLabel: 'I\'m already an Helix client',
            label: {
                text: 'I\'m an Helix client',
                position: 'right',
                class: 'text-uppercase font-weight-bold pb-0'
            }
        }
    }
} only %}
```

## Design Guidelines

<iframe width='100%' height='450' src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%26-styles%3Fnode-id%3D21784%3A284582' frameBorder='0' allowFullScreen></iframe>