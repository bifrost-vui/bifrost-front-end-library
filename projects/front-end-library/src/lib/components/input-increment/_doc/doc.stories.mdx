import { moduleMetadata } from '@storybook/angular';
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { withDesign } from 'storybook-addon-designs'
import { TwigContainerComponent } from '../../../../utils/twig-container/twig-container.component';
import { InputIncrementComponent } from '../angular/input-increment.component';


<Meta
    title='Components/Input Increment'
    component={InputIncrementComponent}
    decorators={[
        moduleMetadata({ declarations: [InputIncrementComponent, TwigContainerComponent]}),
        withDesign
    ]}
    parameters={{
        design: {
            type: 'figma',
            url: 'https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS-Library-UI?node-id=91%3A0',
            disable: false
        },
    }}
    argTypes={{
        value: {
            type:  {
                control: { type: 'number' },
                required: true
            },
            table: { defaultValue: { summary: '0' } }
        },
        inputId: {
            type:{ required: true }
        },
        errorMessage: {
            type: { required: false },
            description: 'Should always be defined if a min or a max value is defined',
        },
        isRequired: {
            type: { required: false },
            table: { defaultValue: { summary: true } },
            description: 'set the input as required in the form',
        },
        min: {
            table: { defaultValue: { summary: '-' } }
        },
        max: {
            table: { defaultValue: { summary: '-' } }
        },
    }}
/>

# Input increment

## Component API

<ArgsTable of={InputIncrementComponent} />

## Drupal

export const Drupal = (args) => ({
    component: TwigContainerComponent,
    props: args,
});

<Canvas withSource='none'>
    <Story
        name='Drupal'
        height='400px'
        args={{
            elementPath: 'components/input-increment/_doc/template.drupal',
            class: '',
            ariaLabel: '',
            inputId: '',
            value: 0,
            errorMessage: ''
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

## Drupal implementation example

```jsx
{% include '@bf-components/input-increment/twig/index.twig' with {
        class: '',
        ariaLabel: '',
        inputId: 'my-unique-input-id',
        value: 0,
        min: null,
        max: null,
        isReadOnly: false,
        isDisabled: false,
        isInvalid: false,
        errorMessage: 'Error message'
   }
} %}

```

## Design Guidelines

Check the [Figma](https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS-Library-UI?node-id=91%3A0) for more details