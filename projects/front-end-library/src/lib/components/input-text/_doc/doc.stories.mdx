import { moduleMetadata }               from '@storybook/angular';
import { Canvas, Meta, Story, Props }  from '@storybook/addon-docs';
import { withDesign }                   from 'storybook-addon-designs'
import { TwigContainerComponent }       from '../../../../utils/twig-container/twig-container.component';
import { InputTextComponent }     from '../angular/input-text.component';

<Meta
    title='Components/Input Text'
    component={InputTextComponent}
    decorators={[
        moduleMetadata({ declarations: [InputTextComponent, TwigContainerComponent]}),
        withDesign
    ]}
    parameters={{
        design: {
            type    : 'figma',
            url     : 'https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS---Components-%26-styles?node-id=13846%3A114433',
            disable : false
        },
    }}
    argTypes={{
        inputType: {
            control: {type: 'select'}
        },
        id: {
            type: {required: true}
        },
        errorMessage: {
            type: {required: true}
        }
    }}
/>

export const Drupal = (args) => ({
    component   : TwigContainerComponent,
    props       : args,
});

export const commonProps = {
    description     : 'A short description',
    id              : 'myId',
    placeholder     : 'Input placeholder',
    ariaLabel       : 'Arialabel is used when no label is defined',
    tooltip         : { text: `<em>HTML</em> tooltip <strong>text</strong>`, position: 'top' },
    errorMessage    : 'A short error message',
    info            : {text: 'Additional information', url: 'http://www.example.com'}
};

# Input Text

## Component API

**âœ… Inputs are equivalent for Angular and Drupal.**

<Props of={InputTextComponent} />



## Drupal


### Text Input field

<Canvas withSource='none'
        style = {{ height: '500px' }}
>
    <Story
        name='Drupal - type text'
        args={{
            elementPath     : 'components/input-text/_doc/template.drupal',
            ...commonProps,
            label           : { text: 'label', class: '' },
            inputType       : 'text'
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

### Drupal implementation example

```jsx
{% include '@bf-components/input-text/twig/index.twig' with {
    inputType       : 'text', //  available options : 'text'|'password'|'search'|'tel'|'email'
    id              : 'myId',  // required argument
    errorMessage    : 'A short error message',  // required argument
    label           : { text: 'Label'},
    placeholder     : 'Input placeholder',
    ariaLabel       : 'Arialabel is used when no label is defined',
    tooltip         : { text: 'tooltiptext', position: 'top' },
    info            : {text: 'Additional information', url: 'http://www.example.com'}
} %}
```

### Password Input field

<Canvas withSource='none'
        style = {{ height: '500px' }}
>
    <Story
        name='Drupal - type password'
        args={{
            elementPath     : 'components/input-text/_doc/template.drupal',
            ...commonProps,
            label           : { text: 'password', class: '' },
            inputType       : 'password',
            validationTitle : 'Make sure you have :',
            validationList  : [
                { class:'', label:'1 lowercase letter' },
                { class:'is-valid', label:'1 capital letter' },
                { class:'is-invalid', label:'1 number' },
                { class:'is-invalid', label:'7 characters' },
            ]
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

### Drupal implementation example


```jsx
{% include '@bf-components/input-text/twig/index.twig' with {
    id              : 'myId',  // required argument
    errorMessage    : 'A short error message',  // required argument
    label           : { text: 'Label'},
    placeholder     : 'Input placeholder',
    tooltip         : { text: 'tooltiptext', position: 'top' },
    info            : {text: 'Additional information', url: 'http://www.example.com'},
    inputType       : 'password',
    validationTitle : 'Make sure you have :',
    validationList  : [
        { class:'', label:'1 lowercase letter' },
        { class:'is-valid', label:'1 capital letter' },
        { class:'is-invalid', label:'1 number' },
        { class:'is-invalid', label:'7 characters' }
    ]
} %}
```


### Search Input field

<Canvas withSource='none'
        style = {{ height: '300px' }}
>
    <Story
        name='Drupal - type search'
        args={{
            elementPath     : 'components/input-text/_doc/template.drupal',
            inputType       : 'search',
            id              : 'searchInputId',
            ariaLabel       : 'search',
            placeholder     : 'Search'
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

### Drupal implementation example

```jsx
{% include '@bf-components/input-text/twig/index.twig' with {
    inputType       : 'search',
    id              : 'searchId',  // required argument
    placeholder     : 'search',
    ariaLabel       : 'Search'

} %}
```

## Design Guidelines

### Text, Telephone(tel) or Email input types

<iframe width='100%' height='450' src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%2526-styles%3Fnode-id%3D13846%253A114433' frameBorder='0' allowFullScreen></iframe>

### Passord input type

<iframe width='100%' height='450' src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%2526-styles%3Fnode-id%3D13846%253A114479' frameBorder='0' allowFullScreen></iframe>

### Search (text variant) input type
<iframe width='100%' height='450' src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%2526-styles%3Fnode-id%3D13846%253A114504' frameBorder='0' allowFullScreen></iframe>