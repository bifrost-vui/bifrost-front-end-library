import { moduleMetadata }               from '@storybook/angular';
import { Canvas, Meta, Story, Props }   from '@storybook/addon-docs';
import { withDesign }                   from 'storybook-addon-designs'
import { TwigContainerComponent }       from '../../../../utils/twig-container/twig-container.component';
import { InputTextComponent }           from '../angular/input-text.component';

<Meta
    title='Components/Inputs with Text'
    component={InputTextComponent}
    decorators={[
        moduleMetadata({ declarations: [InputTextComponent, TwigContainerComponent]}),
        withDesign
    ]}
    parameters={{
        design: {
            type    : 'figma',
            url     : 'https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS---Components-%26-styles?node-id=13846%3A114433',
            disable : false
        },
    }}
    argTypes={{
        inputType: {
            control: {type: 'select'},
            type: { defaultValue : 'text'},
            table: { disable: true }
        },
        id: {
            type: {required: true}
        },
        errorMessage: {
            type: {required: true}
        },
    }}
/>

export const commonProps = {
    description     : 'A short description',
    id              : 'myId',
    ariaLabel       : 'Aria-label',
    tooltip         : { text: `<em>HTML</em> tooltip <strong>text</strong>`, position: 'top' },
    errorMessage    : 'A short error message',
    info            : {text: 'Additional information'}
};

# Input Text

export const Drupal = (args) => ({
    component   : TwigContainerComponent,
    props       : {
        ...args
    }
});

## Component API

**âœ… Inputs are equivalent for Angular and Drupal.**

<Props of={InputTextComponent} />

## Drupal
```jsx
// There are 5 variants behaving as text fields :
{% include '@bf-components/input-text/twig/email.twig' with {...} %}
{% include '@bf-components/input-text/twig/text.twig' with {...} %}
{% include '@bf-components/input-text/twig/password.twig' with {...} %}
{% include '@bf-components/input-text/twig/tel.twig' with {...} %}
{% include '@bf-components/input-text/twig/search.twig' with {...} %}
```
### Email Input field

<Canvas withSource='none'
        style={{ height: '600px' }}
>
    <Story
        name='Drupal - Input email'
        args={{
            elementPath     : 'components/input-text/_doc/template.Drupal',
            ...commonProps,
            inputType       : 'email',
            label           : 'Email address',
            tooltip         : 'tooltip text as string',
            placeholder     : 'Email Address',
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

#### Email -  Drupal implementation example

```jsx
{% include '@bf-components/input-text/twig/email.twig' with {
    id              : 'myId', // required argument
    label           : { text: 'email address', class: '' },
    placeholder     : 'placeholder',
    tooltip         : { text: 'tooltip text', position: 'top' },
    errorMessage    : 'A short error message', // required argument
} %}
```

### Password Input field

<Canvas withSource='none'
        style={{ height: '600px' }}
>
    <Story
        name='Drupal - Input password'
        args={{
            elementPath     : 'components/input-text/_doc/template.Drupal',
            ...commonProps,
            inputType       : 'password',
            label           : 'Password',
            tooltip         : 'tooltip text as string',
            placeholder     : 'Password',
            info            : { text: 'forgot your password?', url: 'http://www.example.com'},
            validationTitle : 'Make sure you have :',
            validationList  : [
                { class:'', label:'1 lowercase letter' },
                { class:'is-valid', label:'1 capital letter' },
                { class:'is-invalid', label:'1 number' },
                { class:'is-invalid', label:'7 characters' },
            ]
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

#### Password - Drupal implementation example

```jsx
// password creation
{% include '@bf-components/input-text/twig/password.twig' with {
    id              : 'myId', // required argument
    label           : { text: 'Password', class: '' },
    tooltip         : { text: 'tooltip text', position: 'top' },
    info            : {text: 'forgot your password?', url: 'http://www.example.com'},
    errorMessage    : 'A short error message', // required argument
    validationTitle : 'Make sure you have :',
    validationList  : [
        { class:'', label:'1 lowercase letter' },
        { class:'is-valid', label:'1 capital letter' },
        { class:'is-invalid', label:'1 number' },
        { class:'is-invalid', label:'7 characters' }
    ]
} only %}
// password
{% include '@bf-components/input-text/twig/password.twig' with {
    id              : 'myId', // required argument
    label           : { text: 'Password', class: '' },
    tooltip         : { text: 'tooltip text', position: 'top' },
    info            : {text: 'forgot your password?', url: 'http://www.example.com'},
    errorMessage    : 'A short error message', // required argument
} only %}
```

### Phone Input field

<Canvas withSource='none'
        style={{ height: '600px' }}
>
    <Story
        name='Drupal - Input phone'
        args={{
            elementPath     : 'components/input-text/_doc/template.Drupal',
            ...commonProps,
            inputType       : 'tel',
            label           : 'Phone Number',
            tooltip         : 'tooltip text as string',
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

#### Phone - Drupal implementation example

```jsx
{% include '@bf-components/input-text/twig/phone.twig' with {
    id              : 'myId', // required argument
    label           : { text: 'phone number', class: '' },
    tooltip         : { text: 'tooltip text', position: 'top' },
    errorMessage    : 'A short error message', // required argument
} only %}
```

### Search Input field

<Canvas withSource='none'
        style={{ height: '600px' }}
>
    <Story
        name='Drupal - Input search'
        args={{
            elementPath     : 'components/input-text/_doc/template.Drupal',
            inputType       : 'search',
            id              : 'searchInputId',
            ariaLabel       : 'aria-label',
            placeholder     : 'Search'
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

#### Search Drupal implementation example

```jsx
{% include '@bf-components/input-text/twig/search.twig' with {
    id              : 'searchId', // required argument
    ariaLabel       : 'aria-label'

} only %}
```

### Text Input field

<Canvas withSource='none'
        style={{ height: '600px' }}
>
    <Story
        name='Drupal - Input text'
        args={{
            elementPath     : 'components/input-text/_doc/template.Drupal',
            ...commonProps,
            inputType       : 'text',
            label           : { text: 'label', class: '' }
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

#### Text - Drupal implementation example

```jsx
{% include '@bf-components/input-text/twig/text.twig' with {
    id              : 'myId', // required argument
    errorMessage    : 'A short error message', // required argument
    label           : { text: 'Label'},
    ariaLabel       : 'Aria-label',
    tooltip         : { text: 'tooltiptext', position: 'top' },
    info            : {text: 'Additional information'}
} only %}
```


## Design Guidelines

### Text, Phone or Email

<iframe width='100%' height='450' src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%2526-styles%3Fnode-id%3D13846%253A114433' frameBorder='0' allowFullScreen></iframe>

### Password

<iframe width='100%' height='450' src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%2526-styles%3Fnode-id%3D13846%253A114479' frameBorder='0' allowFullScreen></iframe>

### Search
<iframe width='100%' height='450' src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%2526-styles%3Fnode-id%3D13846%253A114504' frameBorder='0' allowFullScreen></iframe>