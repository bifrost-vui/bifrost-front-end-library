import { moduleMetadata } from '@storybook/angular';
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { withDesign } from 'storybook-addon-designs'
import { TwigContainerComponent } from '../../../../utils/twig-container/twig-container.component';
import { ModalComponent } from '../angular/modal.component';

<Meta
    title='UI-Kit/Modal'
    component={ModalComponent}
    decorators={[
        moduleMetadata({declarations: [ModalComponent, TwigContainerComponent]}),
        withDesign
    ]}
    parameters={{
        design: {
            type: 'figma',
            url: 'https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS---Components-%26-styles?node-id=12732%3A87435',
            disable: false
        },
    }}
    argTypes={{
        modalId: {
            description: 'Use `id` instead',
            control: { type: 'text' },
            table: { category: 'Deprecated Inputs'}
        },
        modalClass: {
            description: 'Use `class` instead',
            control: { type: 'text' },
            table: { category: 'Deprecated Inputs'}
        },
        modalSize: {
            control: { type: 'select' },
            table: {
                defaultValue: { summary: 'lg' },
            }
        },
        modalTheme: {
            table: {
                defaultValue: { summary: 'light' },
            }
        },
        modalAnimation: {
            table: {
                defaultValue: { summary: 'fade' },
            }
        }
    }}
/>

# Modal

This component has been migrated from UI-Kit

## Component API

<ArgsTable of={ModalComponent} />

## Drupal

export const Drupal = (args) => ({
    component: TwigContainerComponent,
    props: args,
});

export const contentDemo = `<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris dictum diam metus, et eleifend orci vulputate et. Phasellus metus risus, feugiat at eros et, venenatis sagittis risus. Mauris tincidunt feugiat felis, a accumsan ipsum laoreet eget. Donec mattis, arcu sollicitudin tempus laoreet, mi mi faucibus est, vitae convallis augue mi at nibh. Sed est tortor, dictum ac posuere id, pulvinar ut mi. Nullam arcu neque, bibendum malesuada justo et, faucibus dapibus massa. Proin venenatis, odio a blandit facilisis, nisi nibh vehicula arcu, ac convallis libero risus nec lectus. Aliquam sit amet dolor a lacus posuere pharetra vestibulum non nibh. Praesent accumsan commodo dolor eu semper. Suspendisse eget dictum lorem. Nulla vel sodales odio.</p><p>Integer tristique mi ut ornare malesuada. Curabitur ut lorem at lacus imperdiet aliquet. Nullam eu nunc id lorem aliquam semper sed ac sapien. Nam urna ante, laoreet quis purus id, euismod rhoncus mi. Duis interdum non ipsum et feugiat. Morbi hendrerit, neque vel gravida gravida, quam ex scelerisque ipsum, vel hendrerit leo justo id ligula. Aenean eget erat ligula. Etiam iaculis pretium ultrices. Morbi sit amet nisl fringilla, malesuada odio ac, dignissim neque. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae;</p><p>Aenean ullamcorper neque at luctus accumsan. Duis vel euismod tortor. Pellentesque fermentum metus odio, eu vulputate lacus consequat luctus. Morbi ac erat in nibh dignissim lacinia gravida vitae tellus. Maecenas erat enim, vulputate vitae diam non, mollis pellentesque tortor. Donec in odio sem. Sed egestas vel neque eget mollis. Donec sit amet sodales velit.</p><p>Vestibulum ultricies ullamcorper sem, vel lacinia orci pellentesque ac. Praesent elementum accumsan est, ut laoreet justo vehicula sed. Vestibulum mollis tempor nisl, in pellentesque risus vulputate vel. Nullam finibus, nulla vitae fringilla ultrices, odio ligula fermentum felis, quis molestie magna nulla at massa. Vestibulum lobortis felis mi, et eleifend risus vestibulum tempor. Sed molestie leo id nisl sagittis, vel sollicitudin risus iaculis. Quisque nisl nulla, lacinia eget dui sit amet, vulputate faucibus nibh. Pellentesque sagittis metus eget semper blandit.</p><p>Maecenas eget orci fermentum, ornare nulla sed, gravida mauris. Sed ultricies urna arcu, vitae aliquet lectus viverra eget. Maecenas turpis lectus, efficitur eu venenatis eu, venenatis nec justo. Aliquam eget lectus vitae lectus efficitur vulputate in id orci. Pellentesque risus neque, luctus sed enim quis, pulvinar ultricies risus. Phasellus tincidunt lorem ut nunc hendrerit faucibus. Pellentesque ut tortor posuere, semper lorem non, congue odio. Praesent pellentesque, turpis id rutrum sodales, tortor risus aliquet tortor, id placerat nibh turpis interdum nisi. Suspendisse a scelerisque arcu, eu vestibulum sapien. Nunc semper orci metus, in tincidunt lacus facilisis ac.</p>`;

export const footerDemo =`<div class='d-flex'><a href='https://www.example.com' class='bf-button bf-button--primary ml-4 mb-3' data-title='primary'><span class='bf-button__label'><span class='bf-button__label__text'>Primary</span></span></a></div>`;

<Canvas withSource='none' style={{ height: '800px' }}>
    <Story
        name='Drupal - scrollable content'
        args={{
            elementPath: 'components/modal/_doc/template.drupal',
            modalTitle: 'Title Lorem ipsum dolor sit amet',
            modalSubtitle: 'Subtitle Lorem ipsum dolor sit amet, consectetur adipiscing elit',
            modal_body_scroll_container: contentDemo,
            modal_footer: footerDemo
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none' style={{ height: '800px' }}>
    <Story
        name='Drupal'
        args={{
            elementPath: 'components/modal/_doc/template.drupal',
            modalTitle: 'Title Lorem ipsum dolor sit amet',
            modalSubtitle: 'Subtitle Lorem ipsum dolor sit amet, consectetur adipiscing elit',
            modal_body_subcontainer: contentDemo,
            modal_footer: footerDemo
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

## Drupal implementation examples

```jsx
// Simple Modal
{% include '@bf-components/modal/twig/index.twig' with {
    modalTitle: 'Title lorem ipsum dolor sit amet',
    modalBudy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ',
    modal_footer: '<a href='https://example.com'>more details</a>'
} only %}

// Modal with scrollable content
{% embed '@bf-components/modal/twig/index.twig' with {
    modalTitle: 'Title Lorem ipsum dolor sit amet',
    modalSubtitle: 'Subtitle Lorem ipsum dolor sit amet, consectetur adipiscing elit'
} %}
    {% block modal_body_scroll_container %}
        // insert html or Twig Block here
    {% endblock %}

    {% block modal_footer %}
        // insert html or Twig Block here
    {% endblock %}
{% endembed %}

// Modal with non scrollable content
{% embed '@bf-components/modal/twig/index.twig' with {
    modalTitle: 'Title lorem ipsum dolor sit amet',
    modalSubtitle: 'Subtitle Lorem ipsum dolor sit amet, consectetur adipiscing elit'
} %}
    {% block modal_body_subcontainer %}
        // insert html or Twig Block here
    {% endblock %}

    {% block modal_footer %}
        // insert html or Twig Block here
    {% endblock %}
{% endembed %}
```

## Design Guidelines

<iframe width='100%' height='450'
        src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%2526-styles%3Fnode-id%3D12732%253A87435%0A'
        frameBorder='0' allowFullScreen></iframe>