import { moduleMetadata }                       from '@storybook/angular';
import { Canvas, Meta, Story, Props }           from '@storybook/addon-docs';

import { contentCheckLists, equipmentList }      from './data';
import illustrationIcons                        from '../../../../../../../public/icons/list/illustrations.json';
import { TwigContainerComponent }               from '../../../../utils/twig-container/twig-container.component';
import { CardComponent }                        from '../angular/card.component';


<Meta
    title='Components/Card/Drupal - Product'
    component={CardComponent}
    decorators={[
        moduleMetadata({ declarations: [CardComponent, TwigContainerComponent]})
    ]}
    argTypes={{
        titleTag: {
            table: { defaultValue: { summary: 'h1' } },
        },
        isDisabled: {
            table: { defaultValue: { summary: false } },
        },
        reversed: {
            table: { defaultValue: { summary: false } },
        },
        language: {
            table: { defaultValue: { summary: 'en' } },
        },
        iconName: {
            defaultValue: '',
            control: {
                type: 'select',
                options: ['', 'placeholder', ...illustrationIcons.map(a => a.list).flat().sort()]
            }
        },
    }}
/>


# Product Card

<br/>



## Component API

<Props of={CardComponent} />



## Drupal

export const Drupal = (args) => ({
    component: TwigContainerComponent,
    props: {
        elementPath : 'components/card/_doc/template.drupal',
        cardVariant     : 'product',
        ...args,
    }
});

```jsx
// There are 2 kinds of Cards:
{% include '@bf-components/card/twig/plan.twig' with {...} %}
{% include '@bf-components/card/twig/product.twig' with {...} %}


// Note: the following templates are depricated:
{% include '@bf-components/card/twig/phone.twig' %}
{% include '@bf-components/card/twig/combo.twig' %}
{% include '@bf-components/card/twig/protection.twig' %}
{% include '@bf-components/card/twig/increment.twig' %}


// use the product template instead of the depricated templates:
{% include '@bf-components/card/twig/product.twig' %}
```


### Product - Combo card

export const comboCommonProps = {
    image           : {
        src : '/images/_docs/iphone-12-pro-max.png',
        alt : 'iPhone 12 Mini',
    },
    comboLabel      : '250 Go',
    title           : 'iPhone 12 Mini',
    titleTag        : 'h1',
    description_html: 'Description Lorem ipsum dolor sit <em>amet html</em>, consectetur adipiscing elit aliqua.',
    badge           : 'Promotion',
    contentBadge    : {
        label       : 'credit return',
        hierarchy   : 'tertiary',
        iconName    : 'credit-return',
    },
    promotionBadges : [
        {
            label    :'Free Galaxy Buds Live',
            iconName : '',
        },
        {
            label    : '0$ Welcome credit',
            iconName : 'credit-welcome',
        }
    ],
    price           : {
        upperTitle      : 'From',
        dollar          : 86,
        cent            : 99,
        details         : '/month',
        promotion       : {
            title       : '<strong>Promotion</strong> test',
            priceStriked: 40.99,
            priceSaved  : 10,
            savedLabel  : 'You saved :',
            superscript : 1,
            direction   : 'horizontal',
        }
    },
    note                : 'Plan + Phone: from $150/month (24 months)<br/>No upfront payment',
    buttons             : [
        {
            label     : 'Configurate',
            hierarchy : 'primary-alt',
            href      : 'www.videotron.com',
        }
    ],
};

<Canvas
    withSource='none'
    style={{ height: '900px' }}
>
    <Story
        name='Drupal - Combo'
        args={{
            elementPath     : 'components/card/_doc/template.drupal',
            ...comboCommonProps
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

### Product - combo implementation example

```jsx
{% include '@bf-components/card/twig/product.twig' with {
    image           : {
        src : '/images/_docs/iphone-12-pro-max.png',
        alt : 'iPhone 12 Mini',
    },
    comboLabel      : '250 Go',
    title           : 'iPhone 12 Mini',
    titleTag        : 'h1',
    description_html: 'Description Lorem ipsum dolor sit <em>amet html</em>, consectetur adipiscing elit aliqua.',
    badge           : 'Promotion',
    contentBadge    : {
        label       : 'credit return',
        hierarchy   : 'tertiary',
        iconName    : 'credit-return',
    },
    promotionBadges : [
        {
            label    :'Free Galaxy Buds Live',
            iconName : '',
        },
        {
            label    : '0$ Welcome credit',
            iconName : 'credit-welcome',
        }
    ],
    price           : {
        upperTitle      : 'From',
        dollar          : 86,
        cent            : 99,
        details         : '/month',
        promotion       : {
            title       : '<strong>Promotion</strong> test',
            priceStriked: 40.99,
            priceSaved  : 10,
            savedLabel  : 'You saved :',
            superscript : 1,
            direction   : 'horizontal',
        }
    },
    note                : 'Plan + Phone: from $150/month (24 months)<br/>No upfront payment',
    buttons             : [
        {
            label     : 'Configurate',
            hierarchy : 'primary-alt',
            href      : 'www.videotron.com',
        }
    ],

} %}
```


### Product - Phone card

export const phoneCommonProps = {
    image           : {
        src             : '/images/_docs/iphone-12-pro-max.png',
        alt             : 'iPhone 12 Mini',
        badgeIconName   : 'security'
    },
    upperTitle      : 'Upper Title',
    title           : 'iPhone 12 Mini',
    subtitle        : 'Discover the power of the phone',
    titleTag        : 'h1',
    description_html: 'Description Lorem ipsum dolor sit <em>amet html</em>, consectetur adipiscing elit aliqua.',
    badge           : 'Promotion',
    detailsColors   : [
        { value :'4B4A46', name : 'Lorem' },
        { value :'2C4651', name : 'Ipsum' },
        { value :'D4BBA5', name : 'Dolor' },
        { value :'C0C0C0', name : 'Amet' },
    ],
    detailsStorage : ['128 Go', '256 Go'],
    contentBadge    : {
        label       : 'credit return',
        hierarchy   : 'tertiary',
        iconName    : 'credit-return',
    },
    promotionBadges : [
        {
            label    :'Free Galaxy Buds Live',
            iconName : '',
        },
        {
            label    : '0$ Welcome credit',
            iconName : 'credit-welcome',
        }
    ],
    price           : {
        upperTitle      : 'From',
        dollar          : 86,
        cent            : 99,
        details         : '/month',
        promotion       : {
            title       : '<strong>Promotion</strong> test',
            priceStriked: 40.99,
            priceSaved  : 10,
            savedLabel  : 'You saved :',
            superscript : 1,
            direction   : 'horizontal',
        }
    },
    note                : 'Plan + Phone: from $150/month (24 months)<br/>No upfront payment',
    buttons             : [
        {
            label     : 'Configurate',
            hierarchy : 'primary-alt',
            href      : 'www.videotron.com',
        }
    ],
};

<Canvas
    withSource='none'
    style={{ height: '900px' }}
>
    <Story
        name='Drupal - Phone'
        args={{
            elementPath     : 'components/card/_doc/template.drupal',
            ...phoneCommonProps
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas
    withSource='none'
    style={{ height: '900px' }}
>
    <Story
        name='Drupal - Phone Disabled'
        args={{
            elementPath     : 'components/card/_doc/template.drupal',
            cardVariant     : 'phone',
            ...phoneCommonProps,
            isDisabled      : true,
            message         : 'Not available with this plan.',
            messageLink     : {
                url   : '',
                label : 'Choose another Plan',
                class : ''
            }
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

### Product - Phone implementation example

```jsx
//note:

{% include '@bf-components/card/twig/product.twig' with {
    image           : {
        src             : '/images/_docs/iphone-12-pro-max.png',
        alt             : 'iPhone 12 Mini',
        badgeIconName   : 'security'
    },
    upperTitle      : 'Upper Title',
    title           : 'iPhone 12 Mini',
    subtitle        : 'Discover the power of the phone',
    titleTag        : 'h1',
    description_html: 'Description Lorem ipsum dolor sit <em>amet html</em>, consectetur adipiscing elit aliqua.',
    badge           : 'Promotion',
    detailsColors   : [
        { value :'4B4A46', name : 'Lorem' },
        { value :'2C4651', name : 'Ipsum' },
        { value :'D4BBA5', name : 'Dolor' },
        { value :'C0C0C0', name : 'Amet' },
    ],
    detailsStorage : ['128 Go', '256 Go'],
    contentBadge    : {
        label       : 'credit return',
        hierarchy   : 'tertiary',
        iconName    : 'credit-return',
    },
    promotionBadges : [
        {
            label    :'Free Galaxy Buds Live',
            iconName : '',
        },
        {
            label    : '0$ Welcome credit',
            iconName : 'credit-welcome',
        }
    ],
    price           : {
        upperTitle      : 'From',
        dollar          : 86,
        cent            : 99,
        details         : '/month',
        promotion       : {
            title       : '<strong>Promotion</strong> test',
            priceStriked: 40.99,
            priceSaved  : 10,
            savedLabel  : 'You saved :',
            superscript : 1,
            direction   : 'horizontal',
        }
    },
    note                : 'Plan + Phone: from $150/month (24 months)<br/>No upfront payment',
    buttons             : [
        {
            label     : 'Configurate',
            hierarchy : 'primary-alt',
            href      : 'www.videotron.com',
        }
    ]
} %}
```

### Product - Product(VSA) card

export const productCommonProps = {
    image           : {
        src   : 'https://videotron.com/vtrn/images/products/fr_final/television/terminal_4k/terminal-4k-ultra-hd_moyenne.png',
        alt   : 'Illico 4k Ultra HD PVR'
    },
    upperTitle      : 'Upper Title',
    title           : 'Illico 4k Ultra HD PVR',
    titleTag        : 'h1',
    badge           : 'Promotion',
    contentLists    : contentCheckLists,
    note            : 'Plan + Phone: from $150/month (24 months)<br/>No upfront payment',
    bottomLink      : {
        label   : 'Bottom Link Label',
        href    : 'https://www.videotron.com'
    },
};

<Canvas
    withSource='none'
    style={{ height: '900px' }}
>
    <Story
        name='Drupal - Product(VSA)'
        args={{
            elementPath     : 'components/card/_doc/template.drupal',
            ...productCommonProps
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

### Product - Product(VSA) implementation example

```jsx
{% include '@bf-components/card/twig/product.twig' with {
    image           : {
        src   : 'https://videotron.com/vtrn/images/products/fr_final/television/terminal_4k/terminal-4k-ultra-hd_moyenne.png',
        alt   : 'Illico 4k Ultra HD PVR'
    },
    upperTitle      : 'Upper Title',
    title           : 'Illico 4k Ultra HD PVR',
    titleTag        : 'h1',
    badge           : 'Promotion',
    contentLists    : [
        {
            details: 'Description Lorem ipsum dolor sit <em>amet html</em>, consectetur adipiscing elit aliqua.',
            content: [
                { label: ' 320 hours of HD storage capacity ' },
                { label: '115 hours of UHD storage capacity' },
                { label: '3-year basic warranty' },
            ],
            contentClass: 'bf-text small font-weight-bold',
            defaultBullet: 'check',
        }
    ],
    note            : 'Plan + Phone: from $150/month (24 months)<br/>No upfront payment',
    bottomLink      : {
        label   : 'Bottom Link Label',
        href    : 'https://www.videotron.com'
    },

} %}
```

### Product - Protection card

export const protectionCommonProps = {
    badge           : { label: 'Promotion' },
    iconName        : 'apple',
    visualBackgroundColor : '',
    title           : 'Apple Care+ for iPhone',
    subtitle        : 'Lorem ipsum subtitle',
    promotionBadges : [
        {
            label    :'Free Galaxy Buds Live',
            iconName : '',
        },
        {
            label    : '0$ Welcome credit',
            iconName : 'credit-welcome',
        }
    ],
    price           : {
        upperTitle      : 'From',
        dollar          : 86,
        cent            : 99,
        details         : '/month',
        promotion       : {
            title       : '<b>Promotion</b> test',
            priceStriked: 40.99,
            priceSaved  : 10,
            savedLabel  : 'You saved :',
            superscript : 1,
            direction   : 'horizontal',
        }
    },
    message           : 'Lorem ipsum dolor this protection.',
    buttons           : [
        {
            label       : 'Add this protection',
            hierarchy   : 'primary-alt',
            href        : 'www.videotron.com',
        }
    ]
};

<Canvas
    withSource='none'
    style={{ height: '900px' }}
>
    <Story
        name='Drupal - Protection'
        args={{
            elementPath     : 'components/card/_doc/template.drupal',
            ...protectionCommonProps
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

### Product - Protection implementation example

```jsx
{% include '@bf-components/card/twig/product.twig' with {
    badge           : { label : 'Promotion' },
    iconName        : 'apple',
    visualBackgroundColor : '',
    title           : 'Apple Care+ for iPhone',
    subtitle        : 'Lorem ipsum subtitle',
    promotionBadges : [
        {
            label    :'Free Galaxy Buds Live',
            iconName : '',
        },
        {
            label    : '0$ Welcome credit',
            iconName : 'credit-welcome',
        }
    ],
    price           : {
        upperTitle      : 'From',
        dollar          : 86,
        cent            : 99,
        details         : '/month',
        promotion       : {
            title       : '<b>Promotion</b> test',
            priceStriked: 40.99,
            priceSaved  : 10,
            savedLabel  : 'You saved :',
            superscript : 1,
            direction   : 'horizontal',
        }
    },
    message           : 'Lorem ipsum dolor this protection.',
    buttons           : [
        {
            label       : 'Add this protection',
            hierarchy   : 'primary-alt',
            href        : 'www.videotron.com',
        }
    ]
} %}
```

## More info

https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS---Components-%26-styles?node-id=6113%3A705