import { moduleMetadata }                       from '@storybook/angular';
import { Canvas, Meta, Story, Preview, Props }  from '@storybook/addon-docs/blocks';
import { withDesign }                           from 'storybook-addon-designs'

import { contentLists, contentListsNoTitle }        from './data';
import { TwigContainerComponent }               from '../../../../utils/twig-container/twig-container.component';
import { CardComponent }                        from '../angular/card.component';


<Meta 
    title='Components/Card' 
    component={CardComponent}
    decorators={[
        moduleMetadata({ declarations: [CardComponent, TwigContainerComponent]}),
        withDesign
    ]}
    parameters={{
        design: {
            type: 'figma',
            url: 'https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS-Library-UI-Kit-Pattern-lab?node-id=11017%3A708',
            disable: false
        },
    }}
    argTypes={{}}
/>


# Card

> Explore **[Design Documentation](https://zeroheight.com/79f1d3365/p/70ccb4--buttons)** (Zeroheight)

<br/>


## Drupal

export const commonProps = {
    disabled        : false,
    upperTitle      : 'upperTitle',
    title           : 'All-Inclusive 12 GB Mobile',
    description     : 'So you can do what you want, when you want, without worrying about your data.',
    link            : {
        label           : 'Learn more',
        href            : 'www.videotron.com',
    },
    badge           : 'PROMOTION',
    contentLists    : contentLists,
    price           : {
        class           : '',
        dollar          : '152',
        cent            : '34',
        infosSupp       : 'Taxes incl.',
        boxAlignement   : 'left',
        dashed          : '$150',
        saved           : '<strong>$30</strong>',
        recurrencePeriod: undefined,
    },
    buttons           : [
        {
            label       : 'Add a phone with this plan',
            hierarchy   : 'primary',
            reverse     : true,
            href        : 'www.videotron.com',
        },
        {
            label       : 'BUY only this PLAN',
            hierarchy   : 'tertiary',
            href        : 'www.videotron.com',
        }
    ],
    message             : 'Only plans with a minimum of $40.00 per month are available with that phone.',
    language            : 'en',
};

export const Drupal = (args) => ({
    component: TwigContainerComponent,
    props: {
        elementPath : 'components/card/_doc/template.drupal',
        ...args,
    }
});

<Preview
    withSource='none'
    style={{ height: '300px' }}
>
    <Story 
        name='Plan'
        args={{ ...commonProps }}
    >
        {Drupal.bind({})}
    </Story>
</Preview>

<Preview
    withSource='none'
    style={{ height: '300px' }}
>
    <Story 
        name='Plan Disabled'
        args={{
            ...commonProps,
            disabled: true,
        }}
    >
        {Drupal.bind({})}
    </Story>
</Preview>

<Preview
    withSource='none'
    style={{ height: '300px' }}
>
    <Story 
        name='Plan - Phone selected'
        args={{
            ...commonProps,
            upperTitle      : undefined,
            contentLists    : contentListsNoTitle,
            price           : {
                class           : '',
                dollar          : '20',
                boxAlignement   : 'left',
                recurrencePeriod: 'month',
            },
            buttons           : [
                {
                    label       : 'Choose this plan',
                    hierarchy   : 'primary',
                    reverse     : true,
                    href        : 'www.videotron.com',
                }
            ],
            message             : undefined,
        }}
    >
        {Drupal.bind({})}
    </Story>
</Preview>

<Preview
    withSource='none'
    style={{ height: '300px' }}
>
    <Story 
        name='Phone'
        args={{
            elementPath     : 'components/card/_doc/template.drupal',
            image           : {
                src             : '/images/_docs/abstract-background.png',
                alt             : 'iPhone 12 Mini',
            },
            title           : 'iPhone 12 Mini',
            price           : {
                class           : '',
                dollar          : '152',
                cent            : '34',
                infosSupp       : 'Taxes incl.',
                boxAlignement   : 'left',
                dashed          : '$150',
                saved           : '<strong>$30</strong>',
                recurrencePeriod: undefined,
            },
            note                : 'Plan + Phone: from $150/month (24 months)<br/>No upfront payment',
            buttons           : [
                {
                    label       : 'Configurate',
                    hierarchy   : 'primary',
                    reverse     : true,
                    href        : 'www.videotron.com',
                }
            ],
        }}
    >
        {Drupal.bind({})}
    </Story>
</Preview>

<Preview
    withSource='none'
    style={{ height: '300px' }}
>
    <Story 
        name='Protection'
        args={{
            elementPath     : 'components/card/_doc/template.drupal',
            iconName        : 'apple',
            title           : 'Apple Care+ for iPhone',
            price           : {
                class           : '',
                dollar          : '152',
                cent            : '34',
                infosSupp       : 'Taxes incl.',
                boxAlignement   : 'left',
                dashed          : '$150',
                saved           : '<strong>$30</strong>',
                recurrencePeriod: undefined,
            },
            buttons           : [
                {
                    label       : 'Add this protection',
                    hierarchy   : 'primary',
                    reverse     : true,
                    href        : 'www.videotron.com',
                }
            ],
        }}
    >
        {Drupal.bind({})}
    </Story>
</Preview>

## Component API

<Props of={CardComponent} />


## Design Guidelines

<iframe width='100%' height='450' src='https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS-Library-UI-Kit-Pattern-lab?node-id=11017%3A708' frameBorder='0' allowFullScreen></iframe>