import { moduleMetadata } from '@storybook/angular';
import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { withDesign } from 'storybook-addon-designs'
import { TwigContainerComponent } from '../../../../utils/twig-container/twig-container.component';
import { CalloutComponent } from '../angular/callout.component';
import {contentDemo} from "./data";

<Meta
    title='Components/Callout'
    component={CalloutComponent}
    decorators={[
        moduleMetadata({ declarations: [CalloutComponent, TwigContainerComponent]}),
        withDesign
    ]}
    parameters={{
        design: {
            type: 'figma',
            url: 'https://www.figma.com/file/7bTmk29aCBl7rCFszffYPr/DS---Components-%26-styles?node-id=11007%3A15368',
            disable: false
        },
    }}
    argTypes={{
        _background: {
            control: {
                type: 'select',
                options: ['', 'bf-color-bg-ground', 'bf-color-bg-underground', 'reversed bf-color-bg-ground', 'reversed bf-color-bg-underground']
            },
            description: 'Preview the component on selected background'
        },
        feedback: {
            defaultValue: 'neutral',
            control: { type: 'select' }
        },
        hasCloseButton: {
            table: { defaultValue: { summary: true }}
        }
    }}
/>

export const Drupal = (args) => ({
    component   : TwigContainerComponent,
    props       : args,
});

# Callout

## Component API

<ArgsTable of={CalloutComponent} />


## Drupal


<Canvas withSource='none'
        style = {{ height: '300px'}}
>
    <Story
        name='Drupal - Callout'
        args={{
            elementPath: 'components/callout/_doc/template.drupal',
            title: 'Callout Title',
            description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.',
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'
        style = {{ height: '300px'}}
>
    <Story
        name='Drupal - Callout with button'
        args={{
            elementPath: 'components/callout/_doc/template.drupal',
            title: 'Callout Title',
            description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.',
            button: { label: 'button',href: 'https;//www.example.com', iconName: 'placeholder'}
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>


<Canvas withSource='none'
        style = {{ height: '400px'}}
>
    <Story
        name='Drupal - Callout with custom Content'
        args={{
            elementPath: 'components/callout/_doc/template.drupal',
            title: 'Callout Title',
            description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
            content: contentDemo
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>



## Drupal implementation example

```jsx
//Callout with text only
{% include '@bf-components/callout/twig/index.twig' with {
    title: 'Title',
    description: 'Description',
    hasCloseButton: false // remove the close button
} only %}

// callout with text and button
{% include '@bf-components/callout/twig/index.twig' with {
    title: 'Title',
    description: 'Description',
    button: {
        label: 'button',
        href: 'https;//www.example.com',
        iconName: 'placeholder'
    }
} only %}

// callout with custom content
{% embed '@bf-components/callout/twig/index.twig' with {
    title: 'Title',
    description: 'Description',
} %}
    {% block content %}
        insert html custom content here
    {% endblock %}
{% endembed %}

```


## Design Guidelines

<iframe width='100%'
        height='450'
        src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F7bTmk29aCBl7rCFszffYPr%2FDS---Components-%2526-styles%3Fnode-id%3D11007%253A15368'
        frameBorder='0'
        allowFullScreen>
</iframe>