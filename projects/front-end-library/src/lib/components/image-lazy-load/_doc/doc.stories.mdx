import { moduleMetadata } from '@storybook/angular';
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { TwigContainerComponent } from '../../../../utils/twig-container/twig-container.component';
import { ImageLazyLoadComponent } from '../angular/image-lazy-load.component';

<Meta
    title="Deprecated/UI-Kit/Image Lazy Load"
    component={ImageLazyLoadComponent}
    decorators={[moduleMetadata({ declarations: [ImageLazyLoadComponent, TwigContainerComponent] })]}
    parameters={{}}
    argTypes={{
        alt: {
            type: { required: true },
        },
        src: {
            type: { required: true },
        },
    }}
/>

# Image Lazy Load

> __DEPRECATED__
>
> This component is __not used currently__ in other components in BifrÃ¶st nor in Drupal templates.
>
> Also, there is a "_utils_" file (`lib/utils/image-lazy-load/twig/index.twig`)
> that is a duplicate of this component and that is used in
> `lib/components/navigation-header/twig/mega-menu-block.twig`.
>
> With modern HTML, we can simply use the `loading="lazy"` attribute on an `<img>` instead of creating a component
> that will use JavaScript.
>

## Drupal

export const Drupal = (args) => ({
    component: TwigContainerComponent,
    props: args,
});

<Canvas withSource="none" style={{ height: '300px' }}>
    <Story
        name="Drupal"
        args={{
            elementPath: 'components/image-lazy-load/_doc/template.drupal',
            alt: 'Image Lazy Load',
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

## Drupal implementation example

```jsx
{% include '@bf-components/image-lazy-load/twig/index.twig' with {
    alt: 'alternative image text',
    src: 'https://source.unsplash.com/260x180/?nature'
} only %}
```

## Component API

<ArgsTable of={ImageLazyLoadComponent} />
