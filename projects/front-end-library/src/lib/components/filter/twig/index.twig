{# Import macros #}
{% import "@bf-utils/macros/twig/index.twig" as macros %}

{# Boolean Variables #}
{% set hasDataCheckboxes = dataCheckboxes is defined and dataCheckboxes is not empty %}
{% set hasDataSlider = dataSlider is defined and dataSlider is not empty %}
{% set hasId = id is defined and id is not empty %}
{% set hasNumberOfSelections = numberOfSelections is defined and numberOfSelections is not empty %}
{% set isBlockFilterContentBlockDefined = block("filterContentBlock") is defined %}

{# Default Variables #}
{% set class = class|default("") %}

{# Component Variables #}
{% if isBlockFilterContentBlockDefined %}
  {% set filterContentBlock = block("filterContentBlock") %}
{% endif %}

{# Arrays of Classes With Dynamic Elements #}
{% set filterClasses = [
  "bf-filter",
  (class),
] %}

{# Template #}
{% embed "@bf-components/accordion/twig/index.twig" with {
  class: filterClasses|join(' ')|trim,
  id: id,
  idParent: idParent,
  isDisabled: isDisabled,
  isExpandedByDefault: isExpandedByDefault,
  title: title,
  background: "ground",
  emphasisPosition: "left",
  hasBorder: false,
  iconPosition: "right",
  iconType: "plus-minus",
  isBorderRounded: false,
  paddingX: "none",
  paddingY: "large",
  titleSize: "normal",
  titleTag: "div",
  titleWeight: "bold",
} %}
    {% block emphasisBlock %}
      {% include '@bf-components/badge/twig/index.twig' with {
          fontSize: "medium",
          hierarchy: "tertiary",
          isRounded: true,
          label: numberOfSelections,
      } only %}
    {% endblock %}

    {% block contentBlock %}

      {# Checkboxes filter #}
      {% if hasDataCheckboxes %}
        {% include '@bf-components/input-checkbox/twig/index.twig' with dataCheckboxes only %}
      {% endif %}

      {# Slider filter #}
      {% if hasDataSlider %}
        {% include '@bf-components/input-slider/twig/index.twig' with dataSlider only %}
      {% endif %}

      {# Other type filter #}
      {% if isBlockFilterContentBlockDefined %}
        {{ filterContentBlock }}
      {% endif %}

    {% endblock %}
{% endembed %}
