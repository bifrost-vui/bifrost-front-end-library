import { moduleMetadata } from '@storybook/angular';
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { TwigContainerComponent } from '../../../../utils/twig-container/twig-container.component';
import { InputSearchComponent, DefaultButtonSubmitValue } from '../angular/input-search.component';
import { ButtonSubmitDefaultValue, InputDefaultValue } from './doc.model';

<Meta
    title="Components/Input Search"
    component={InputSearchComponent}
    decorators={[moduleMetadata({ declarations: [InputSearchComponent, TwigContainerComponent] })]}
    argTypes={{
        buttonSubmit: {
            table: {
                defaultValue: {
                    summary: "Object",
                    detail: ButtonSubmitDefaultValue
                }
            },
        },
        hasButtonClear: {
            table: {
                defaultValue: {
                    summary: true,
                }
            },
        },
        input: {
            table: {
                defaultValue: {
                    summary: "Object",
                    detail: InputDefaultValue
                }
            },
        },
        label: {
            table: {
                defaultValue: {
                    summary: "{}"
                }
            },
        },
        reversed: {
            table: { defaultValue: { summary: 'false' } },
        },
    }}
/>

# Input Search

<br />

## Component API

<ArgsTable of={InputSearchComponent} />

## Drupal implementation example

```jsx
{% include '@bf-components/input-search/twig/index.twig' with {
    buttonSubmit: {
        id: 'id',
        extraAttribute: 'extraAttribute',
    },
    class: 'class',
    hasButtonClear: true,
    input: {
        id: 'id',
        class: 'class',
        type: 'text',
        placeholder: 'Placeholder',
        name: 'Name',
        value: 'Value',
        extraAttribute: 'extraAttribute',
    },
    isDisabled: false,
    label: {
        text: 'text',
        class: 'class',
        extraAttribute: 'extraAttribute',
    },
    reversed: true,
} only %}
```

## Drupal

export const Drupal = (args) => ({
    component: TwigContainerComponent,
    props: args,
});

<Canvas withSource="none">
    <Story
        name="Drupal"
        height="300px"
        args={{
            elementPath: 'components/input-search/_doc/template.drupal',
            "buttonSubmit": {
                "buttonIcon": {
                    "ariaLabel": "Search",
                    "icon": "search",
                },
                "isVisible": true,
                "position": "right",
            },
            "hasButtonClear": true,
            "input": {
                "id": "searchInput",
                "name": "searchInput",
                "placeholder": "What are you looking for?",
            },
            "label": {
                "text": "Label",
            },
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>
