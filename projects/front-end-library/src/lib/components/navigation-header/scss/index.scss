/* *****************************************************************************
*
*  Navigation Header
*
* ***************************************************************************** */

@import './top-bar';

.bf-header {

    .navbar {
        background-color: var(--bf-color-bg-ground);
    }

    .navbar-brand__logo-videotron {
        background-color: var(--bf-color-bg-action-primary);

        &-text {
            margin-left: 0 !important; // Override PL
            margin-top: 0 !important; // Override PL

            @include media-breakpoint-down(sm) {
                // margin-left: .25rem !important;

                .bf-logo svg {
                    width: auto;
                    height: 100%;
                }
            }
        }
    }

    .alg-searchbox-mobile__container.show {
        position: absolute;
        right: 1rem;
        width: calc(100% - 7rem) !important;
    }

    #navbarSearch.show .js-search-toggler-btn {
        // display: block !important;
    }

    .navbar--videotron-unify.navbar-expand-lg .nav-item {
        border-color: var(--bf-color-stroke-secondary) !important;
    }

    .navbar--videotron-unify__main-nav .nav-item {
        color: var(--bf-color-neutral-primary);

        &.open>.nav-link:before,
        >.nav-link:hover:before {
            transform: scaleX(1);
        }

        >.nav-link {
            color: var(--bf-color-neutral-primary);

            &:before {
                background-color: var(--bf-color-neutral-primary) !important;
            }
        }
    }

    .navbar--videotron-unify .dropdown-menu--megamenu {
        margin: 1px 0 0 0;
        color: var(--bf-color-neutral-primary);
        background-color: var(--bf-color-bg-ground);

        &:before {
            content: none; // Override PL: Remove box-shadow
        }

        &.open .bf-icon {
            transform: rotate(180deg);
        }

        hr {
            border-top: 1px solid var(--bf-color-stroke-secondary);
        }

        .nav-tabs--vertical {
            background-color: var(--bf-color-bg-underground);

            &__item-link {
                background-color: var(--bf-color-bg-underground);
                
                &:hover,
                &:focus {
                    background-color: var(--bf-color-bg-ground);
                    outline: none;
                }

                &.active {
                    background-color: var(--bf-color-bg-ground);

                    &:before {
                        transform: translate(0);
                    }
                }

                &:not(:last-of-type) {
                    border-bottom: 1px solid var(--bf-color-stroke-secondary);
                }
                
                &:before {
                    background-color: var(--bf-color-bg-action-primary);
                    transform: none; // PL Override
                    width: .2rem;
                    transform: translate(-100%);
                    transition-duration: .2s;
                }

                img {
                    width: 3rem;
                    height: 3rem;
                }

                span {
                    font-size: 1.125rem;
                    line-height: 1.25rem;

                    &:after {
                        content: none; // Override PL
                    }
                }
            }

        }
    }

    // Override PL
    .dropdown--light * {
        color: var(--bf-color-neutral-primary);
    }

    // Override PL
    @include media-breakpoint-down(md) {
        .navbar--videotron-unify.navbar-expand-lg .navbar__header-responsive .dropdown button[data-toggle=dropdown] {
            width: auto;
            height: auto;
        }
    }
}
