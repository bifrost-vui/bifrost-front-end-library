<header 
    role='banner' 
    class="bf-header z-index-18 {{(reversed) ? 'reversed': ''}} {{ (isFunnel) ? 'bf-header--funnel' : '' }}" {% if theme is defined %} data-theme={{theme}} {% endif %}>
	
    {% if hasTopBar is defined and hasTopBar is same as (true) and not isFunnel %}

		{% include '@bf-components/navigation-header/twig/top-bar.twig' with {
        items                   : topBar.items|default([]),
        secondaryItems          : topBar.secondaryItems|default([]),
        isConnected             : isConnected|default(false),
        accountHello            : accountHello|default('Hello'),
        accountName             : accountName|default('Benjamin Desjardins'),
        hrefLogOut              : hrefLogOut|default('#'),
        labelLogOut             : labelLogOut|default('Logout'),
        hrefConnexion           : hrefConnexion|default('#'),
        labelConnexion          : labelConnexion|default('My Customer Centre'),
        reversed                : reversed|default(false),
    } only %}
	{% endif %}
	<nav class='bf-header__nav w-100 border-bottom bf-border-color-secondary {{ class|default(' ') }}'>

		<!-- Logo -->
		<div class='bf-header__logo'>
			<a href='{{ logo.href|default('#') }}' class='d-flex'>
				{% include '@bf-components/logo/twig/index.twig' with {
                    name        : logo.name,
                    size        : 'large',
                    langcode    : langcode|default('EN'),
                } only %}
			</a>
		</div>

		<!-- Main Nav -->
		<div class='bf-header__nav-main js-collapse-full-height'>

			{% if not isFunnel %}
				<ul class='bf-megamenu  list'>
					{% block navbar_content %}
						{% include '@bf-components/navigation-header/twig/mega-menu.twig' with {
                        navItems    : navItems,
                        reversed    : reversed
                    } only %}
					{% endblock %}
				</ul>
			{% endif %}

		</div>

		<!-- Actions -->
		<div class='bf-header__actions'>
			{% if not isFunnel  %}
				<div
					class="bf-header__rigthIconLinks ">
					{# <!-- rigth Icon Links - visible on mobile only --> #}
					{% for link in rigthIconLinks|default([])|slice(0, 5) %}
						{% if link is defined and link.href is not empty and link.icon is not empty %}
							{% include '@bf-components/button-icon/twig/index.twig' with {
                                    href    : link.href,
                                    icon    : link.icon,
                                    class   : link.class,
                                    badge   : (link.badge.label) ? { label : link.badge.label } : {} ,
                                } only %}
						{% endif %}
					{% endfor %}
				</div>
				<!-- Btn account dropdown -->
				{% if hasAccountBtn is defined and hasAccountBtn is same as (true) %}
					{% if isConnected is same as (true) %}
						{% include '@bf-components/button-icon/twig/index.twig' with {
                                href        : hrefLogOut|default('#'),
                                icon        : 'out',
                                ariaLabel   : labelLogOut|default('Log out'),
                            } %}
					{% else %}
						{% include '@bf-components/button-icon/twig/index.twig' with {
                                href        : hrefConnexion|default('#'),
                                icon        : 'profile',
                                ariaLabel   : labelConnexion|default('Log in'),
                            } %}
					{% endif %}
				{% endif %}
			{% endif %}

			{% if isFunnel %}
				<div class="">
					<a href='{{ funnelNav.Link }}' class='bf-link bf-link--primary my-2'>
						{{funnelNav.label}}
					</a>
				</div>
			{% endif %}

			{# <!-- Btn mini cart --> #}
			{% if hasCartBtn is defined and hasCartBtn %}

				{% if cartBtn.badge.label is defined and cartBtn.badge.label and cartBtn.badge.label is not same as ('0') %}
					{% set badgeLabel =  cartBtn.badge.label  %}
				{% endif %}

				{% include '@bf-components/button-icon/twig/index.twig' with {
                        icon        : 'cart',
                        hierarchy   : 'primary',
                        badge       : (badgeLabel is defined) ? { label : badgeLabel } : {},
                        href        : (cartBtn.href is defined and cartBtn.href) ? cartBtn.href : '', 
                        ariaLabel   : cartBtn.ariaLabel|default(''),    
                    } %}
			{% endif %}

			{% if not isFunnel %}
				{# <!-- Btn search toggle --> #}
				{% include '@bf-components/button-icon/twig/index.twig' with {
                        icon            : 'search',
                        dataToggle      : 'collapse',
                        dataTarget      : '#navbarSearch',
                        ariaControls    : 'navbarSearch',
                        ariaExpanded    : 'false',
                        class           : 'd-flex d-md-none js-bf-search-toggler'
                    } only %}

				{# <!-- Search --> #}
				{% if hasNoSearchBtn is not defined or hasNoSearchBtn is same as (false) %}
					<div class='bf-header__search-bar js-bf-header__search-bar  ml-1' id='navbarSearch'>
						<div>
							{% block globalSearch %}
								{% include '@bf-components/input-search/twig/index.twig' with {
                                        class       : 'mb-0',
                                        input       : {
                                            placeholder : search.placeholder|default('')|t,
                                        },
                                        reversed    : reversed,
                                    } %}
							{% endblock %}
							{% include '@bf-components/button-icon/twig/index.twig' with {
                                    icon            : 'x',
                                    dataToggle      : 'collapse',
                                    dataTarget      : '#navbarSearch',
                                    ariaControls    : 'navbarSearch',
                                    ariaExpanded    : 'false',
                                    class           : 'd-flex d-md-none m-1 p-1'
                                } %}
						</div>
					</div>
				{% endif %}
			{% endif %}

		</div>

	</nav>

	{# <!-- Alogolia search results-->  #}
	{% if hasNoSearchBtn is not defined or hasNoSearchBtn is same as (false) %}
		<div class='align-items-center justify-content-between w-100'>
			<div id='alg-hits' class='ais-Hits bf-color-bg-ground alg-hidden'></div>
		</div>
	{% endif %}

</header>
