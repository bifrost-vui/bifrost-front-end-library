import { moduleMetadata }                       from '@storybook/angular';
import { ArgsTable, Canvas, Meta, Story }       from '@storybook/addon-docs';
import illustrationIcons                        from '../../../../../../../public/icons/list/illustrations.json';
import TwigTemplate                             from './template.drupal.twig';
import { SectionButtonsNavComponent }           from '../angular/section-buttons-nav.component';

<Meta
    title='Sections/Buttons Nav'
    component={SectionButtonsNavComponent}
    decorators={[
        moduleMetadata({ declarations: [SectionButtonsNavComponent]})
    ]}
    argTypes={{
        background: {
            table: { defaultValue: { summary: 'ground' } }
        },
        titleTag: {
            table: { defaultValue: { summary: 'h1' } }
        },
        isFeatured: {
            table: { defaultValue: { summary: false } }
        },
        reversed: {
            table: { defaultValue: { summary: false } }
        }
    }}
/>

# Section Buttons Nav

<br/>

## Component API

<ArgsTable of={SectionButtonsNavComponent} />

## Drupal implementation example

```jsx
{% include '@bf-sections/buttons-nav/twig/index.twig' with {
    title: 'Discover our services Maecenas faucibus mollis interdum integer posuere erat a ante venenatis.',
    titleTag: 'h2',
    buttons: [
        { label: 'Mobility',        iconName: 'mobility',               description: 'Maecenas faucibus mollis.' },
        { label: 'Internet',        iconName: 'internet-residential',   description: 'Maecenas faucibus mollis.' },
        { label: 'Television',      iconName: 'television',             description: 'Maecenas faucibus mollis.' },
        { label: 'Bundle',          iconName: 'multi-product',          description: 'Maecenas faucibus mollis.' },
        { label: 'Entertainment',   iconName: 'play',                   description: 'Maecenas faucibus mollis.' },
        { label: 'Automation',      iconName: 'smart-home',             description: 'Maecenas faucibus mollis.' }
    ],
    asideSection: {
        title: 'Videotron, an integral part of Quebecers’ daily lives',
        description: 'Partner of your connected life, Videotron offers you state-of-the-art communication and entertainment solutions, as well as a unique customer experience.',
        link: {
            label: 'Why choose videotron?',
            href: 'https://videotron.com/en/why-choose-videotron'
        }
    },
    isFeatured: false,
    reversed: false,
    class: ''
} only %}
```

## Drupal

export const Drupal = (args) => ({
    template: TwigTemplate(args),
    props: args,
});

export const commonProps = {
    title: 'Discover our services Maecenas faucibus mollis interdum integer posuere erat a ante venenatis.',
    titleTag: 'h2',
    buttons: [
        {
            label: 'Mobility',
            iconName: 'mobility'
        },
        {
            label: 'Internet',
            iconName: 'internet-residential'
        },
        {
            label: 'Television',
            iconName: 'television'
        },
        {
            label: 'Bundle',
            iconName: 'multi-product'
        },
        {
            label: 'Entertainment',
            iconName: 'play'
        },
        {
            label: 'Automation',
            iconName: 'smart-home'
        }
    ],
    class: ''
}

export const commonButtonPropsWithDescription = [
    {
        label: 'Mobility',
        iconName: 'mobility',
        description: 'Maecenas faucibus mollis interdum integer posuere erat a ante venenatis. Maecenas faucibus mollis interdum integer posuere erat a ante venenatis.'
    },
    {
        label: 'Internet',
        iconName: 'internet-residential',
        description: 'Maecenas faucibus mollis.'
    },
    {
        label: 'Television',
        iconName: 'television',
        description: 'Maecenas faucibus mollis interdum integer posuere erat a ante venenatis.'
    },
    {
        label: 'Bundle',
        iconName: 'multi-product',
        description: 'Maecenas faucibus.'
    },
    {
        label: 'Entertainment',
        iconName: 'play'
    },
    {
        label: 'Automation',
        iconName: 'smart-home',
        description: 'Maecenas faucibus mollis interdum integer posuere erat a ante venenatis.'
    }
]

<Canvas withSource='none'>
    <Story
        name='Drupal'
        args={{
            ...commonProps
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'>
    <Story
        name='Drupal - With description'
        args={{
            ...commonProps,
            buttons: commonButtonPropsWithDescription
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'>
    <Story
        name='Drupal - With isFeatured'
        args={{
            ...commonProps,
            buttons: commonButtonPropsWithDescription,
            isFeatured: true
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'>
    <Story
        name='Drupal - With isFeatured and 4 buttons'
        args={{
            ...commonProps,
            buttons: commonButtonPropsWithDescription.slice(0, 4),
            isFeatured: true
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'>
    <Story
        name='Drupal - With isFeatured and 2 buttons'
        args={{
            ...commonProps,
            buttons: commonButtonPropsWithDescription.slice(0, 2),
            isFeatured: true
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'>
    <Story
        name='Drupal - With asideSection'
        args={{
            ...commonProps,
            asideSection: {
                title: 'Videotron, an integral part of Quebecers’ daily lives',
                description: 'Partner of your connected life, Videotron offers you state-of-the-art communication and entertainment solutions, as well as a unique customer experience.',
                link: {
                    label: 'Why choose videotron?',
                    href: 'https://videotron.com/en/why-choose-videotron'
                }
            },
            class: 'mb-6'
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>