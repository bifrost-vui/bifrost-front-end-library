import { moduleMetadata }                       from '@storybook/angular';
import { ArgsTable, Canvas, Meta, Story }       from '@storybook/addon-docs';
import { TwigContainerComponent }               from '../../../../utils/twig-container/twig-container.component';
import { TextImageComponent }                   from '../angular/text-image.component';


<Meta
    title='Sections/Text Image'
    component={TextImageComponent}
    decorators={[
        moduleMetadata({ declarations: [TextImageComponent, TwigContainerComponent]}),
    ]}
    argTypes={{
        titleTag: {
            table: { defaultValue: { summary: 'h1' } },
        },
        layout: {
            table: { defaultValue: { summary: 'text-image' } },
        },
    }}
/>

# Section: Text Image

<br/>

## Component API

<ArgsTable of={TextImageComponent} />



## Drupal implementation example

```jsx
{% include '@bf-sections/text-image/twig/index.twig' with {
    Image       : {
        src: '/images/assets/helix-equipment.png',
        icon: {
            name: 'trio-wifi',
            position: 'bottom-left'
        },
        fit: 'fill'
    },
    upperTitle  : 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    title       : 'Discover our best Helix Internet and TV packages',
    subtitle    : 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    description : 'After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you. After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you.',
    buttons: [
        {
            label: 'Main action'
        }
    ],
    reversed    : false,
    class       : ''
} only %}
```


export const Drupal = (args) => ({
    component: TwigContainerComponent,
    props: args,
});

export const commonProps = {
    image       : {
        src: window.location.origin + '/images/_docs/hero-helix-reversed.png',
        // src: 'https://i.stack.imgur.com/y9DpT.jpg'
        icon: {
            name: 'trio-wifi',
            position: 'bottom-left'
        },
        fit: 'fill'
    },
    upperTitle  : 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    title       : 'Discover our best Helix Internet and TV packages',
    subtitle    : 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    description : 'After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you. After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you.',
    class       : ''
}

export const buttonsProps = {
    buttons: [
        {
            label       : 'Main action',
            hierarchy   : '',
            class       : ''
        },
        {
            label       : 'Secondary action',
            hierarchy   : '',
            class       : ''
        }
    ]
}

export const linksProps = {
    links: [
        { href: '', label: 'HELIX Experience' },
        { href: '', label: 'Internet' },
        { href: '', label: 'TV' },
        { href: '', label: 'TOC / Voice' },
        { href: '', label: 'Domotic' }
    ]
}

export const rowButtonsProps = {
    rowButtons: [
        {
            href        : 'https://example.com',
            title       : 'Forfaits internet et télé',
            paragraph   : 'Contribute to the ambiance of your spaces.',
            iconName    : 'placeholder'
        },
        {
            href        : 'https://example.com',
            title       : 'Forfaits internet et télé',
            paragraph   : 'Contribute to the ambiance of your spaces.',
            iconName    : 'placeholder'
        }
    ]
}

<Canvas withSource='none'>
    <Story
        name='Drupal'
        height='800px'
        args={{
            elementPath: 'sections/text-image/_doc/template.drupal',
            ...commonProps,
            ...buttonsProps,
            ...linksProps,
            ...rowButtonsProps
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'>
    <Story
        name='Drupal - With layout'
        height='800px'
        args={{
            elementPath: 'sections/text-image/_doc/template-multiple.drupal',
            items: [
                {
                    upperTitle: 'layout',
                    title: 'text-image',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png'
                    },
                    layout: 'text-image'
                },
                {
                    upperTitle: 'layout',
                    title: 'image-text',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png'
                    },
                    layout: 'image-text'
                }
            ]
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>


<Canvas withSource='none'>
    <Story
        name='Drupal - With image fit'
        height='800px'
        args={{
            elementPath: 'sections/text-image/_doc/template-multiple.drupal',
            items: [
                {
                    upperTitle: 'Image fit',
                    title: 'fill (default)',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png'
                    }
                },
                {
                    upperTitle: 'Image fit',
                    title: 'fit',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png',
                        fit: 'fit'
                    }
                }
            ]
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'>
    <Story
        name='Drupal - With image icon position'
        height='800px'
        args={{
            elementPath: 'sections/text-image/_doc/template-multiple.drupal',
            items: [
                {
                    upperTitle: 'Image icon position',
                    title: 'bottom-left (default)',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png',
                        icon: {
                            name: 'trio-wifi'
                        }
                    }
                },
                {
                    upperTitle: 'Image icon position',
                    title: 'bottom-right',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png',
                        icon: {
                            name: 'trio-wifi',
                            position: 'bottom-right'
                        }
                    }
                },
                {
                    upperTitle: 'Image icon position',
                    title: 'top-left',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png',
                        icon: {
                            name: 'trio-wifi',
                            position: 'top-left'
                        }
                    }
                },
                {
                    upperTitle: 'Image icon position',
                    title: 'top-right',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png',
                        icon: {
                            name: 'trio-wifi',
                            position: 'top-right'
                        }
                    }
                },
                {
                    upperTitle: 'Image icon position',
                    title: 'center',
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png',
                        icon: {
                            name: 'trio-wifi',
                            position: 'center'
                        }
                    }
                }
            ]
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>

<Canvas withSource='none'>
    <Story
        name='Drupal - With buttons, links and rowButtons'
        height='800px'
        args={{
            elementPath: 'sections/text-image/_doc/template-multiple.drupal',
            items: [
                {
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png'
                    },
                    title: 'With Buttons',
                    description: 'After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you. After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you.',
                    ...buttonsProps
                },
                {
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png'
                    },
                    title: 'With Links',
                    description: 'After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you. After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you.',
                    ...linksProps
                },
                {
                    image: {
                        src: window.location.origin + '/images/_docs/hero-helix-reversed.png'
                    },
                    title: 'With Row Buttons',
                    description: 'After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you. After checking to see if Helix services are available at your address, we will suggest the best Helix packages and promotions for you.',
                    ...rowButtonsProps
                }
            ]
        }}
    >
        {Drupal.bind({})}
    </Story>
</Canvas>
