// Global
$baseFontSize: 16px;
$baseFontSizeXXL: 0.94vw; // Same as : projects/front-end-library/src/lib/scss/base/_layouts-core.scss - on line 43

html {
  --bf-base-font-size: #{$baseFontSize};
  font-size: var(--bf-base-font-size);

  @include media-breakpoint-up(xxl) {
    --bf-base-font-size: #{$baseFontSizeXXL};
  }
}

body,
.reversed,
.highlight {
  color: var(--bf-color-neutral-primary);
}

// Display

.bf-display-highlight {
  @extend .bf-color-bg-action-primary;
  @extend .px-1;

  @at-root .reversed.bf-display-highlight,
    .reversed .bf-display-highlight {
    color: var(--bf-color-bg-ground); // When reversed, force black text color over highlight background-color.
  }
}

// Utils

.flex-1 {
  flex: 1;
}

.children {
  &--mb {
    &-1 > * {
      @extend .mb-1;
    }
  }
}

.last-child {
  &--mb {
    &-0 > *:last-child {
      @extend .mb-0;
    }
  }
}

// Transition / Animation
.bf-transition-visibility {
  display: none;
  opacity: 0;

  &.bf-visible {
    display: block;
    opacity: 1;
    animation: animation-transition-visibility $transition-time-medium;
  }
}

@keyframes animation-transition-visibility {
  0% {
    display: none;
    opacity: 0;
  }
  1% {
    display: block;
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@mixin bf-transition-scaleX-ltr {
  &::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background-color: var(--bf-color-stroke-secondary);
    transform: scaleX(0);
    transform-origin: left center;
    will-change: transform;
    transition: transform $transition-time-long ease-out;
  }

  &:hover,
  &:focus-visible {
    &::after {
      background-color: var(--bf-color-stroke-secondary);
      transform: scaleX(1);
      @include transitions(transform, background-color $transition-time-long ease-out);
    }
  }

  &.active {
    &::after {
      background-color: var(--bf-color-stroke-highlight);
      transform: scaleX(1);
      will-change: background-color;
      @include transitions(transform, background-color $transition-time-long ease-out);
    }
  }
}

.bf-transition-scaleX-ltr {
  @include bf-transition-scaleX-ltr;
}
